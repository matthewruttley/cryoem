/* CRYO FILE ANALYSIS */

CREATE SCHEMA IF NOT EXISTS cryo.xml_files;

DROP TABLE IF EXISTS cryo.xml_files;

CREATE TABLE IF NOT EXISTS cryo.xml_files
(
  -- Put field types here
  filename VARCHAR,
  admin_date TIMESTAMP,
  grid VARCHAR,
  grid_material VARCHAR,
  grid_mesh INT,
  grid_film VARCHAR,
  pretreatment VARCHAR,
  cryogen VARCHAR,
  humidity INT,
  temp INT,
  Vitrobot VARCHAR,
  Microscope VARCHAR,
  Illumination VARCHAR,
  Imaging_mode VARCHAR,
  Electron_Source VARCHAR,
  Accelereation_voltage INT,
  nominal_defocus_min DECIMAL,
  nominal_defocus_max DECIMAL,
  calibrated_magnification DECIMAL,
  specimen_holder_model VARCHAR
);

CREATE INDEX cryo_name on cryo.xml_files (filename);

INSERT INTO cryo.xml_files VALUES
('emd-9634-v30.xml', '2018-11-07', '2018-11-07', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', 'NULL', 'NULL', 'NULL', 'FEI TECNAI F30', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9674-v30.xml', '2018-11-07', '2018-11-07', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NITROGEN', 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS', 'OTHER', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9653-v30.xml', '2018-10-24', '2018-10-24', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'60')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'LEICA EM GP', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS AUTOGRID HOLDER'),('emd-9661-v30.xml', '2018-11-07', '2018-11-07', 'Quantifoil, UltrAuFoil, R1.2/1.3', 'MOLYBDENUM', '400', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'95')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'FEI VITROBOT MARK IV', 'JEOL 2200FS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'200')]), OrderedDict([(u'@units', u'\xb5m'), ('#text', u'0.25')]), OrderedDict([(u'@units', u'\xb5m'), ('#text', u'0.5')]), '32129.', 'GATAN 914 HIGH TILT LIQUID NITROGEN CRYO TRANSFER TOMOGRAPHY HOLDER'),('emd-9633-v30.xml', '2018-11-07', '2018-11-07', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', 'NULL', 'NULL', 'NULL', 'FEI TECNAI F30', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9617-v30.xml', '2018-10-10', '2018-10-10', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9659-v30.xml', '2018-10-24', '2018-10-24', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'60')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'LEICA EM GP', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS AUTOGRID HOLDER'),('emd-9675-v30.xml', '2018-11-07', '2018-11-07', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NITROGEN', 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS', 'OTHER', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9618-v30.xml', '2018-09-12', '2018-09-12', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9622-v30.xml', '2018-10-17', '2018-10-17', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS', 'OTHER', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9638-v30.xml', '2018-10-17', '2018-10-17', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL'),('emd-3802-v30.xml', '2018-10-17', '2018-10-17', 'C-flat-4/2', 'COPPER', '400', [OrderedDict([(u'@film_type_id', u'1'), (u'film_material', u'CARBON'), (u'film_topology', u'HOLEY')]), OrderedDict([(u'@film_type_id', u'2'), (u'film_material', u'CARBON'), (u'film_topology', u'CONTINUOUS')])], 'PLASMA CLEANING', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'100')]), OrderedDict([(u'@units', u'K'), ('#text', u'278.15')]), 'FEI VITROBOT MARK IV', 'FEI TITAN', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), OrderedDict([(u'@units', u'\xb5m'), ('#text', u'2.0')]), OrderedDict([(u'@units', u'\xb5m'), ('#text', u'4.5')]), '37879.', 'GATAN 626 SINGLE TILT LIQUID NITROGEN CRYO TRANSFER HOLDER'),('emd-9658-v30.xml', '2018-10-24', '2018-10-24', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'60')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'LEICA EM GP', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS AUTOGRID HOLDER'),('emd-9662-v30.xml', '2018-11-07', '2018-11-07', 'Quantifoil R1.2/1.3', 'MOLYBDENUM', '400', 'NULL', 'GLOW DISCHARGE', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'95')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'FEI VITROBOT MARK IV', 'JEOL 2200FS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'200')]), OrderedDict([(u'@units', u'\xb5m'), ('#text', u'0.25')]), OrderedDict([(u'@units', u'\xb5m'), ('#text', u'0.5')]), '32129.', 'GATAN 914 HIGH TILT LIQUID NITROGEN CRYO TRANSFER TOMOGRAPHY HOLDER'),('emd-9660-v30.xml', '2018-10-24', '2018-10-24', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'60')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'LEICA EM GP', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS AUTOGRID HOLDER'),('emd-9632-v30.xml', '2018-11-07', '2018-11-07', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', 'NULL', 'NULL', 'NULL', 'FEI TECNAI F30', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9637-v30.xml', '2018-10-17', '2018-10-17', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9631-v30.xml', '2018-11-07', '2018-11-07', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', 'NULL', 'NULL', 'NULL', 'FEI TECNAI F30', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL'),('emd-9655-v30.xml', '2018-10-17', '2018-10-17', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'60')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'LEICA EM GP', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS AUTOGRID HOLDER'),('emd-9656-v30.xml', '2018-10-24', '2018-10-24', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'60')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'LEICA EM GP', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS AUTOGRID HOLDER'),('emd-9654-v30.xml', '2018-10-24', '2018-10-24', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'60')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'LEICA EM GP', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS AUTOGRID HOLDER'),('emd-9657-v30.xml', '2018-10-24', '2018-10-24', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', OrderedDict([(u'@units', u'percentage'), ('#text', u'60')]), OrderedDict([(u'@units', u'K'), ('#text', u'277')]), 'LEICA EM GP', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'BRIGHT FIELD', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS AUTOGRID HOLDER'),('emd-9616-v30.xml', '2018-10-17', '2018-10-17', 'NULL', 'NULL', 'NULL', 'NULL', 'NULL', 'ETHANE', 'NULL', 'NULL', 'NULL', 'FEI TITAN KRIOS', 'FLOOD BEAM', 'DIFFRACTION', 'FIELD EMISSION GUN', OrderedDict([(u'@units', u'kV'), ('#text', u'300')]), 'NULL', 'NULL', 'NULL', 'NULL')
;